"use strict";document.addEventListener("DOMContentLoaded",function(){function n(e,t,n){var r=e.querySelector(".main-slider__img"),i=e.querySelector(".main-slider__title"),o=document.querySelector(".main-slider__item"),o=window.getComputedStyle(o).padding,o=2*parseFloat(o),e=document.querySelector(".swiper-slide-next")===e?"-":"+";r.setAttribute("style",""),r.style.setProperty("transform","translateX(".concat(t,"%)")),i.setAttribute("style",""),i.style.setProperty("transform","translateX(calc(".concat(t,"% ").concat(e," ").concat(o,"px))")),setTimeout(function(){r.style.setProperty("transition-duration","1200ms"),r.style.setProperty("transform","translateX(".concat(n,"%)")),i.style.setProperty("transition-duration","1200ms"),i.style.setProperty("transform","translateX(".concat(n,"%)"))},0)}document.querySelector(".js-slider")&&new Swiper(".js-slider",{watchOverflow:!0,allowTouchMove:!1,speed:0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},on:{slideNextTransitionStart:function(){var e=document.querySelector(".swiper-slide-prev"),t=document.querySelector(".swiper-slide-active");n(e,100,50),n(t,100,0)},slidePrevTransitionStart:function(){var e=document.querySelector(".swiper-slide-next"),t=document.querySelector(".swiper-slide-active");n(e,-100,0),n(t,-50,0)}}});var e=document.querySelectorAll(".js-like .like__icon"),i={};e.forEach(function(e){e.addEventListener("click",function(){var e=this.closest(".js-like"),t=this.getAttribute("data-slider-id"),n=this.getAttribute("data-is-liked"),r=e.querySelector(".like__counter"),e=+r.textContent;if("true"===n)return!1;this.setAttribute("data-is-liked",!0),r.innerHTML=(1+e).toString(),i[t]=1+e,sessionStorage.setItem("likes",JSON.stringify(i))})}),sessionStorage.getItem("likes")&&(t=sessionStorage.getItem("likes"),i=JSON.parse(t),Object.keys(i).forEach(function(e){var t=document.querySelector('.js-like .like__icon[data-slider-id="'.concat(e,'"]'));t&&(t.setAttribute("data-is-liked","true"),t.nextElementSibling.querySelector(".like__counter").innerHTML=i[e])}));var t=$(".js-select2");t&&t.each(function(){$(this).select2({minimumResultsForSearch:20,dropdownParent:$(this).next(".dropDownSelect2"),width:"100%"})}),sessionStorage.getItem("preferences")&&r();t=document.querySelector('[name="preferences"]');function r(){var e=sessionStorage.getItem("preferences"),n=JSON.parse(e),t=document.querySelector("html"),r=document.querySelectorAll('[type="text"]'),e=document.querySelectorAll('[type="radio"]');t.setAttribute("data-theme",n.theme),r.forEach(function(e){e.value=n[e.name]}),e.forEach(function(e){"theme"===e.getAttribute("name")&&e.value===n.theme&&e.setAttribute("checked",!0)}),Object.keys(n).forEach(function(t){var e=document.querySelector('select[name="'.concat(t,'"]'));e&&e.querySelectorAll("option").forEach(function(e){e.value===n[t]&&(e.setAttribute("selected",!0),$(".js-select2").select2({minimumResultsForSearch:20}))})}),"0"===n.containerWidth?document.documentElement.style.setProperty("--container-width",""):document.documentElement.style.setProperty("--container-width","".concat(n.containerWidth,"px"))}t&&t.addEventListener("submit",function(e){e.preventDefault();var e=new FormData(e.target),n={};e.forEach(function(e,t){n[t]=e}),sessionStorage.setItem("preferences",JSON.stringify(n)),r()});var t=document.querySelector(".js-form-range"),o=document.querySelector(".js-form-range-value");t&&(o.innerHTML="".concat(t.value," %"),t.addEventListener("input",function(){o.innerHTML="".concat(this.value," %")}));var s=document.querySelector("body"),c=document.querySelector("header"),a=document.querySelector(".js-header-nav"),t=document.querySelector(".js-mob-burger"),l=document.querySelector(".js-header-menu");function u(){var e;992<=window.innerWidth?l.setAttribute("style",""):(e=c.clientHeight,l.style.top="".concat(e,"px"),l.style.height="calc(100vh - ".concat(e,"px)")),992<=window.innerWidth||(s.classList.remove("no-scroll"),s.classList.remove("is-blur"),a.classList.remove("is-open-menu"))}t.addEventListener("click",function(){s.classList.toggle("no-scroll"),s.classList.toggle("is-blur"),a.classList.toggle("is-open-menu")}),window.addEventListener("resize",u),window.addEventListener("orientationchange",u);var t=document.querySelector(".js-form-file-btn"),d=document.querySelector(".form-file__title");t&&t.addEventListener("click",function(e){e.preventDefault();var n=this.closest(".form-file").querySelector(".form-file__input");n.click(),n.addEventListener("change",function(){var e=n.files.length,t="",t=1<=e?"Добавлено ".concat(e," файла(ов)"):"добавить файл";d.innerHTML=t})});t=document.querySelectorAll(".js-switch");t&&t.forEach(function(e){e.addEventListener("click",function(){var e=this;$(this).next().slideToggle(200),setTimeout(function(){e.classList.toggle("active")},200)})}),$(".js-tabs .tabs__navigation-link").on("click",function(e){e.preventDefault();e=$(this).attr("href"),e=$(e);$(this).siblings().removeClass("active"),$(this).addClass("active"),$(".tab").removeClass("active"),e.addClass("active")}),window.addEventListener("resize",function(){768<=window.innerWidth&&document.querySelectorAll(".mob-tab-content").forEach(function(e){e.style.setProperty("display","")})})});